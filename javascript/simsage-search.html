<html lang="en">
<head>
    <title>search example</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="simsage-search.js"></script>
</head>
<body>
    <div id="results"></div>
</body>
<script>
    // do a search example
    jQuery(document).ready(() => {
        const data = {
            // Set your ids and constants for SimSage (must come from SimSage)
            // the service layer end-point, change "<server>" to ... (no / at end)
            base_url: "https://test.simsage.ai",
            // the organisation id to search
            organisation_id: "",
            // the knowledge base id
            kb_id: "",
            // the credentials for talking to the API / getting a session
            email: "",
            password: "",
        };
        sign_in_and_search_for('test', data, (result_list) => {
            for (const result of result_list) {
                if (result && result.textList && result.textList.length > 0) {
                    const text = result.textList[0];
                    const result_div = document.createElement( "div" );
                    result_div.textContent = result.url + " - " + text;
                    jQuery("#results").append(result_div);
                }
            }
        })
    })
</script>
</html>
